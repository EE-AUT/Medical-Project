<MainWindow>:
    name: "Main"
    _Camera : camera
    img_Button : img_Button
    _Again_Button: Again_Button
    _Gallery_Button:gallery_button
    img_Gallery: img
    lbl_path: lbl_path
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.7, 0.7, 0.7, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            id: img
            size_hint: 1,1 
            opacity:0
        Label:
            id: lbl_path
            color: (1, 0, 0, 1)
            text: "Picture:"
            size_hint: 0.1, 0.05  
            pos_hint: {"x":0.5,"y":0.9}
        Camera:
            id: camera
            opacity:0   
            index:0
            size_hint: 1, 1
            # orientation: 'vertical'
            # pos: self.pos
            # size: self.size * 2
            resolution: (root.width, root.height)

            play: False
            canvas.before:
                PushMatrix
                Rotate:
                    angle: -90
                    origin: self.center
            canvas.after:
                PopMatrix

        Imagebutton:
            source: "./icon/camera.png"
            id:img_Button
            pos_hint:{"x":0.4,"top":0.15}
            size_hint: 0.2, 0.1
            font_size: (root.width**2 + root.height**2) / 13**4
            back_color: (0.5, 0.5, 0.5, 0.8)
            text: "Camera"
            font_size:15
            on_release:
                root.Camera() 

        Imagebutton:
            id:gallery_button
            source: "./icon/Gallery.png"
            pos_hint:{"x":0.65,"top":0.12}
            size_hint: 0.1, 0.05
            font_size: (root.width**2 + root.height**2) / 13**4
            back_color: (0.5, 0.5, 0.5, 0.8)
            text: "Gallery"
            font_size:10
            on_release:
                root.show_load()
                
        Imagebutton:
            id:Again_Button
            source: "./icon/Again.png"
            pos_hint:{"x":0.25,"top":0.12}
            size_hint: 0.1, 0.05
            font_size: (root.width**2 + root.height**2) / 13**4
            back_color: (0.5, 0.5, 0.5, 0.8)
            text: "Again"
            font_size:10
            disabled:True
            opacity:0
            on_release:
                root.Again()   


<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)


<Imagebutton@ButtonBehavior+Image>:
    
